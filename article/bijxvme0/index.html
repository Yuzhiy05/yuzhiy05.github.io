<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.18" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><meta property="og:url" content="https://github.com/Yuzhiy05/Yuzhiy05.github.io/article/bijxvme0/"><meta property="og:title" content="编写cmake"><meta property="og:description" content="cmake 各变量名字 PROJECT_SOURCE_DIR 表示当前项目的根目录也就是当前cmakelist文件所在路径。调用project(xxx)指定项目后的源代码目录 PROJECT_BINARY_DIR 项目的构建目录通常都在构建文件夹下(build)文件夹下 当使用Bbuild 或指定构建文件夹. CMAKE_CURRENT_SOURCE_..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-02-27T09:33:06.000Z"><meta property="article:modified_time" content="2025-02-27T09:33:06.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"编写cmake","image":[""],"dateModified":"2025-02-27T09:33:06.000Z","author":[]}</script><link rel="icon" href="/jager.ico"><title>编写cmake</title><meta name="description" content="cmake 各变量名字 PROJECT_SOURCE_DIR 表示当前项目的根目录也就是当前cmakelist文件所在路径。调用project(xxx)指定项目后的源代码目录 PROJECT_BINARY_DIR 项目的构建目录通常都在构建文件夹下(build)文件夹下 当使用Bbuild 或指定构建文件夹. CMAKE_CURRENT_SOURCE_..."><link rel="preload" href="/assets/style-Digo8I4Z.css" as="style"><link rel="stylesheet" href="/assets/style-Digo8I4Z.css"><link rel="modulepreload" href="/assets/app-BKu1TSIW.js"><link rel="modulepreload" href="/assets/index.html-ERPXJf7t.js"><link rel="prefetch" href="/assets/index.html-9jkK8eqP.js" as="script"><link rel="prefetch" href="/assets/index.html-BhnpWkWt.js" as="script"><link rel="prefetch" href="/assets/index.html-B4OA1e60.js" as="script"><link rel="prefetch" href="/assets/index.html-DDt4rG1G.js" as="script"><link rel="prefetch" href="/assets/index.html-C8ec_ilD.js" as="script"><link rel="prefetch" href="/assets/index.html-CAxUiqHz.js" as="script"><link rel="prefetch" href="/assets/index.html-qrig4Nkk.js" as="script"><link rel="prefetch" href="/assets/index.html-CPIKvlFt.js" as="script"><link rel="prefetch" href="/assets/index.html-D26H0zOD.js" as="script"><link rel="prefetch" href="/assets/index.html-C4v7p2Dv.js" as="script"><link rel="prefetch" href="/assets/index.html-DL8MyzvK.js" as="script"><link rel="prefetch" href="/assets/index.html-iWs4_A7w.js" as="script"><link rel="prefetch" href="/assets/index.html-D5joFteD.js" as="script"><link rel="prefetch" href="/assets/index.html-D7bv9JP9.js" as="script"><link rel="prefetch" href="/assets/index.html-CWo9_zqu.js" as="script"><link rel="prefetch" href="/assets/index.html-Doo4PK7e.js" as="script"><link rel="prefetch" href="/assets/index.html-Bkhb4ODd.js" as="script"><link rel="prefetch" href="/assets/index.html-CwyWOVOG.js" as="script"><link rel="prefetch" href="/assets/index.html-CmKyec3x.js" as="script"><link rel="prefetch" href="/assets/index.html-CJXiKEBQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CTs1NmKU.js" as="script"><link rel="prefetch" href="/assets/index.html-BSiuneG8.js" as="script"><link rel="prefetch" href="/assets/index.html-DIeHX9eW.js" as="script"><link rel="prefetch" href="/assets/index.html-VuPzLkJ4.js" as="script"><link rel="prefetch" href="/assets/index.html-DUMRYhiV.js" as="script"><link rel="prefetch" href="/assets/index.html-D3K9-Pm3.js" as="script"><link rel="prefetch" href="/assets/index.html-CdMm437K.js" as="script"><link rel="prefetch" href="/assets/404.html-BDp_yDJk.js" as="script"><link rel="prefetch" href="/assets/index.html-Dv-pip_6.js" as="script"><link rel="prefetch" href="/assets/index.html-CB12u7ii.js" as="script"><link rel="prefetch" href="/assets/index.html-CWp-dprZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CNm424eC.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/assets/searchBox-default-DaUiIBA7.js" as="script"><link rel="prefetch" href="/assets/SearchBox-DEQFOtnR.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BnQ82uNa.js" as="script"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-8e3384c8><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f619d75a></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-f619d75a> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-8e3384c8 data-v-08ba35c6><div class="vp-navbar" vp-navbar data-v-08ba35c6 data-v-249014c1><div class="wrapper" data-v-249014c1><div class="container" data-v-249014c1><div class="title" data-v-249014c1><div class="vp-navbar-title" data-v-249014c1 data-v-1d78d633><a class="vp-link no-icon link title" href="/" data-v-1d78d633 data-v-5fc5bb72><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="/pro2.png" alt data-v-c868529b><!--]--><!--[--><img class="vp-image light logo" src="/pro2.png" alt data-v-c868529b><!--]--><!--]--><!--]--><span data-v-1d78d633></span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-249014c1><div class="content-body" data-v-249014c1><!--[--><!--]--><div class="vp-navbar-search search" data-v-249014c1><div class="search-wrapper" data-v-25b97326><!----><div id="local-search" data-v-25b97326><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-25b97326><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-249014c1 data-v-9b4f56d1><span id="main-nav-aria-label" class="visually-hidden" data-v-9b4f56d1>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/" tabindex="0" data-v-9b4f56d1 data-v-64cbb49b data-v-5fc5bb72><!--[--><!----><span data-v-64cbb49b>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link active" href="/blog/" tabindex="0" data-v-9b4f56d1 data-v-64cbb49b data-v-5fc5bb72><!--[--><!----><span data-v-64cbb49b>博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/projects/" tabindex="0" data-v-9b4f56d1 data-v-64cbb49b data-v-5fc5bb72><!--[--><!----><span data-v-64cbb49b>Projects</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-9b4f56d1 data-v-6f692087><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6f692087><span class="text" data-v-6f692087><!----><!----><span data-v-6f692087>技术文档</span><span class="vpi-chevron-down text-icon" data-v-6f692087></span></span></button><div class="menu" data-v-6f692087><div class="vp-menu" data-v-6f692087 data-v-1db819e8><div class="items" data-v-1db819e8><!--[--><!--[--><div class="vp-menu-group" data-v-1db819e8 data-v-00200c12><p class="title" data-v-00200c12><!----><span data-v-00200c12>c++</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-00200c12 data-v-4d5b3584><a class="vp-link no-icon link" href="https://zh.cppreference.com/w/cpp" target="_blank" rel="noreferrer" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> cppreference<!--]--><span class="vpi-external-link icon" data-v-5fc5bb72></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-00200c12 data-v-4d5b3584><a class="vp-link no-icon link" href="https://github.com/llvm/llvm-project/blob/main/libcxx/include/__utility/exception_guard.h" target="_blank" rel="noreferrer" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> libc++<!--]--><span class="vpi-external-link icon" data-v-5fc5bb72></span></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="vp-menu-group" data-v-1db819e8 data-v-00200c12><p class="title" data-v-00200c12><!----><span data-v-00200c12>C#</span></p><!--[--><!--[--><div class="vp-menu-link" data-v-00200c12 data-v-4d5b3584><a class="vp-link no-icon link" href="https://learn.microsoft.com/zh-cn/windows/apps/how-tos/hello-world-winui3" target="_blank" rel="noreferrer" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> winui3<!--]--><span class="vpi-external-link icon" data-v-5fc5bb72></span></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-00200c12 data-v-4d5b3584><a class="vp-link no-icon link" href="https://learn.microsoft.com/zh-cn/dotnet/api/system.windows.forms.richtextbox?view=windowsdesktop-8.0" target="_blank" rel="noreferrer" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> winfrom<!--]--><span class="vpi-external-link icon" data-v-5fc5bb72></span></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-9b4f56d1 data-v-6f692087><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6f692087><span class="text" data-v-6f692087><!----><!----><span data-v-6f692087>笔记</span><span class="vpi-chevron-down text-icon" data-v-6f692087></span></span></button><div class="menu" data-v-6f692087><div class="vp-menu" data-v-6f692087 data-v-1db819e8><div class="items" data-v-1db819e8><!--[--><!--[--><div class="vp-menu-link" data-v-1db819e8 data-v-4d5b3584><a class="vp-link no-icon link" href="/test1/" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> 线性代数<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-1db819e8 data-v-4d5b3584><a class="vp-link no-icon link" href="/data_struct/" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> 数据结构<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-1db819e8 data-v-4d5b3584><a class="vp-link no-icon link" href="/math/" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> 数学<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-9b4f56d1 data-v-6f692087><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6f692087><span class="text" data-v-6f692087><!----><!----><span data-v-6f692087>更多</span><span class="vpi-chevron-down text-icon" data-v-6f692087></span></span></button><div class="menu" data-v-6f692087><div class="vp-menu" data-v-6f692087 data-v-1db819e8><div class="items" data-v-1db819e8><!--[--><!--[--><div class="vp-menu-link" data-v-1db819e8 data-v-4d5b3584><a class="vp-link no-icon link" href="/ebooks/" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> 书籍推荐<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-1db819e8 data-v-4d5b3584><a class="vp-link no-icon link" href="/sites-collect/" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> 站点导航<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-1db819e8 data-v-4d5b3584><a class="vp-link no-icon link" href="/cli/" data-v-4d5b3584 data-v-5fc5bb72><!--[--><!----> Command-Line Interface<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-249014c1 data-v-ee9b4cd0><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-ee9b4cd0 data-v-03deaf29 data-v-b6adca12><span class="check" data-v-b6adca12><span class="icon" data-v-b6adca12><!--[--><span class="vpi-sun sun" data-v-03deaf29></span><span class="vpi-moon moon" data-v-03deaf29></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-249014c1 data-v-ed605820 data-v-889f5ff1><!--[--><a class="vp-social-link no-icon" href="https://github.com/Yuzhiy05/Yuzhiy05.github.io" aria-label="github" target="_blank" rel="noopener" data-v-889f5ff1 data-v-85ef9c5c><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-249014c1 data-v-8b92884e data-v-6f692087><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6f692087><span class="vpi-more-horizontal icon" data-v-6f692087></span></button><div class="menu" data-v-6f692087><div class="vp-menu" data-v-6f692087 data-v-1db819e8><!----><!--[--><!--[--><!----><div class="group" data-v-8b92884e><div class="item appearance" data-v-8b92884e><p class="label" data-v-8b92884e>外观</p><div class="appearance-action" data-v-8b92884e><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-8b92884e data-v-03deaf29 data-v-b6adca12><span class="check" data-v-b6adca12><span class="icon" data-v-b6adca12><!--[--><span class="vpi-sun sun" data-v-03deaf29></span><span class="vpi-moon moon" data-v-03deaf29></span><!--]--></span></span></button></div></div></div><div class="group" data-v-8b92884e><div class="item social-links" data-v-8b92884e><div class="vp-social-links social-links-list" data-v-8b92884e data-v-889f5ff1><!--[--><a class="vp-social-link no-icon" href="https://github.com/Yuzhiy05/Yuzhiy05.github.io" aria-label="github" target="_blank" rel="noopener" data-v-889f5ff1 data-v-85ef9c5c><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-249014c1 data-v-5e4996b9><span class="container" data-v-5e4996b9><span class="top" data-v-5e4996b9></span><span class="middle" data-v-5e4996b9></span><span class="bottom" data-v-5e4996b9></span></span></button></div></div></div></div><div class="divider" data-v-249014c1><div class="divider-line" data-v-249014c1></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-8e3384c8 data-v-7d032704><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-7d032704><span class="vpi-align-left menu-icon" data-v-7d032704></span><span class="menu-text" data-v-7d032704>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-7d032704 data-v-a578d39d><button data-v-a578d39d>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-8e3384c8 data-v-db28ea6c><div class="is-blog vp-doc-container" data-v-dbb2a29f><!--[--><!--]--><div class="container" data-v-dbb2a29f><!----><div class="content" data-v-dbb2a29f><div class="content-container" data-v-dbb2a29f><!--[--><!--]--><main class="main" data-v-dbb2a29f><nav class="vp-breadcrumb" data-v-dbb2a29f data-v-a8981ee2><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-a8981ee2><!--[--><li property="itemListElement" typeof="ListItem" data-v-a8981ee2><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-a8981ee2 data-v-5fc5bb72><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-a8981ee2></span><meta property="name" content="首页" data-v-a8981ee2><meta property="position" content="1" data-v-a8981ee2></li><li property="itemListElement" typeof="ListItem" data-v-a8981ee2><a class="vp-link no-icon link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-a8981ee2 data-v-5fc5bb72><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-a8981ee2></span><meta property="name" content="博客" data-v-a8981ee2><meta property="position" content="2" data-v-a8981ee2></li><li property="itemListElement" typeof="ListItem" data-v-a8981ee2><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=4a9315" property="item" typeof="WebPage" data-v-a8981ee2 data-v-5fc5bb72><!--[-->tools<!--]--><!----></a><span class="vpi-chevron-right" data-v-a8981ee2></span><meta property="name" content="tools" data-v-a8981ee2><meta property="position" content="3" data-v-a8981ee2></li><li property="itemListElement" typeof="ListItem" data-v-a8981ee2><a class="vp-link no-icon link breadcrumb current" href="/article/bijxvme0/" property="item" typeof="WebPage" data-v-a8981ee2 data-v-5fc5bb72><!--[-->编写cmake<!--]--><!----></a><!----><meta property="name" content="编写cmake" data-v-a8981ee2><meta property="position" content="4" data-v-a8981ee2></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-a014377c>编写cmake <!----></h1><div class="vp-doc-meta" data-v-a014377c><p class="reading-time" data-v-a014377c><span class="vpi-books icon" data-v-a014377c></span><span data-v-a014377c>3128字</span><span data-v-a014377c>约10分钟</span></p><!----><p class="create-time" data-v-a014377c><span class="vpi-clock icon" data-v-a014377c></span><span data-v-a014377c>2024-12-26</span></p></div><!--]--><div class="vp-doc plume-content _article_bijxvme0_ external-link-icon-enabled" vp-content data-v-dbb2a29f><p>cmake 各变量名字</p><p>PROJECT_SOURCE_DIR 表示当前项目的根目录也就是当前cmakelist文件所在路径。调用project(xxx)指定项目后的源代码目录</p><p>PROJECT_BINARY_DIR 项目的构建目录通常都在构建文件夹下(build)文件夹下 当使用Bbuild 或指定构建文件夹.</p><p>CMAKE_CURRENT_SOURCE_DIR 表示当前CMakeLists.txt 所在的源码目录 CMAKE_CURRENT_BINARY_DIR 表示当前输出目录的位置</p><p>CMAKE_SOURCE_DIR：根项目源码路径最外层cmakeList（存放main.cpp的地方） CMAKE_BINARY_DIR：根项目输出路径（存放main.exe的地方）</p><p>PROJECT_IS_TOP_LEVEL：BOOL类型，表示当前项目是否是（最顶层的）根项目 PROJECT_NAME：当前项目名 CMAKE_PROJECT_NAME：根项目的项目名</p><p>EXECUTABLE_OUTPUT_PATH 可执行文件的输出路径(旧变量不建议使用，可能不生效) CMAKE_RUNTIME_OUTPUT_DIRECTORY_DEBUG CMAKE_RUNTIME_OUTPUT_DIRECTORY_RELEASE 使用此项代替</p><p>LIBRARY_OUTPUT_PATH 库文件的输出路径(旧变量不建议使用，可能不生效) CMAKE_ARCHIVE_OUTPUT_DIRECTORY 静态库输出路径 CMAKE_LIBRARY_OUTPUT_DIRECTORY 动态库输出路径</p><p>小技巧：CMake 的 ${} 表达式可以嵌套</p><p>CMAKE_CXX_STANDARD 是一个整数，表示要用的 C++ 标准。 比如需要 C++17 那就设为 17，需要 C++23 就设为 23。</p><p>CMAKE_CXX_STANDARD_REQUIRED 是 BOOL 类型，可以为 ON 或 OFF，默认OFF。 他表示是否一定要支持你指定的 C++ 标准：如果为 OFF 则 CMake 检测到编译器不支持 C++17 时不报错，而是默默调低到 C++14 给你用；为 ON 则发现不支持报错，更安全。 通常我们设为ON。 CMAKE_CXX_EXTENSIONS 也是 BOOL 类型，默认为 ON。 设为 ON 表示启用 GCC 特有的一些扩展功能；OFF 则关闭 GCC 的扩展功能，只使用标准的 C++。 要兼容其他编译器（如 MSVC）的项目，都会设为 OFF 防止不小心用了 GCC 才有的特性。 通常我们设为OFF</p><p>CMAKE_BUILD_TOOL: 执行构建过程的工具。该变量设置为CMake构建时输出所需的程序。对于VS 6， CMAKE_BUILD_TOOL设置为msdev， 对于Unix，它被设置为make 或 gmake。 对于 VS 7， 它被设置为devenv. 对于Nmake构建文件，它的值为nmake。 CMAKE_DL_LIBS: 包含dlopen和dlclose的库的名称。 CMAKE_COMMAND: 指向cmake可执行程序的全路径。 CMAKE_CTEST_COMMAND: 指向ctest可执行程序的全路径。 CMAKE_EDIT_COMMAND: cmake-gui或ccmake的全路径。 CMAKE_EXECUTABLE_SUFFIX: 该平台上可执行程序的后缀。 CMAKE_SIZEOF_VOID_P: void指针的大小。 CMAKE_SKIP_RPATH: 如果为真，将不添加运行时路径信息。默认情况下是如果平台支持运行时信息，将会添加运行时信息到可执行程序当中。这样从构建树中运行程序将很容易。为了在安装过程中忽略掉RPATH，使用CMAKE_SKIP_INSTALL_RPATH。 CMAKE_GENERATOR: 构建工程的产生器。它将产生构建文件 (e.g. &quot;Unix Makefiles&quot;, &quot;Visual Studio 2019&quot;, etc.)</p><p>从指定目录中搜寻源文件，并将它们存入变量SRC_LIST和CW_SRC_LIST中</p><div class="language-cmake" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">aux_source_directory</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${PROJECT_SOURCE_DIR}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> SRC_LIST)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">aux_source_directory</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${PROJECT_SOURCE_DIR}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/cw/src CW_SRC_LIST)</span></span></code></pre></div><p>此命令不会递归查找子目录,只会识别.cpp .cc .cxx 不会识别.hpp .h文件 同样CMake 无法生成知道何时添加了新的源文件此时需要重新运行 CMake 一般用作</p><blockquote><p>显式模板实例化的项目。模板实例化文件可以存储在 Template 子目录中，并使用此命令自动收集，以避免手动列出所有实例化</p></blockquote><p>最简单的例子</p><p>获取所有源文件进行编译 有如下文件结构</p><div class="vp-file-tree"><ul><li class="file-tree-item expanded"><!--[--><span class="tree-node folder"><!----><span class="name">helloproject</span></span><ul><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">build</span><span class="comment"><br> -...省略</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">src</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">demo1.cpp</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">demo2.cxx</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">demo3.h</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">demo4.hpp</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><span class="name">...</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">src2</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">demo3.cpp</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">CmakeLists.txt</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">CmakePresets.json</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">hello.cpp</span></span><!--]--><!----></li></ul><!--]--><!----></li></ul></div><p>添加src文件夹下所有文件进行编译</p><div class="language-cmake line-numbers-mode" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">cmake_minimum_required</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">VERSION</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 3.5.0)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(CMAKE_CXX_STANDARD 23)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(CMAKE_CXX_STANDARD_REQUIRED </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">true</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(CMAKE_CXX_EXTENSIONS </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">OFF</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">project</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(hello)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(STATUS </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;PROJECT_SOURCE_DIR目录为=${PROJECT_SOURCE_DIR}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(STATUS </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;PROJECT_BINARY_DIR目录为=${PROJECT_BINARY_DIR}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">aux_source_directory</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${PROJECT_SOURCE_DIR}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/src SRC_LIST)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">include_directories</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(src)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(STATUS </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;源码路径SRC_LIST文件=${SRC_LIST}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add_executable</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(hello main.cpp </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${SRC_LIST}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="列出所有源码" tabindex="-1"><a class="header-anchor" href="#列出所有源码"><span>列出所有源码</span></a></h3><div class="language-cmake" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">file</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(GLOB_RECURSE/GLOB  &lt;变量名&gt;  op(可选项):[CONFIGURE_DEPENDS] &lt;expr-</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">path</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;)</span></span></code></pre></div><p>是一个用来匹配指定路径下所有符合通配符条件的文件的命令。 GLOB_RECURSE 是递归查找目录下的所有文件， GLOB 则只在指定文件下 CONFIGURE_DEPENDS 标记依赖 当文件夹下新增文件时cmake会重新编译添加进文件 expr-path 简单的正则表达式表示的路径 file() 命令则可以用来获取文件列表</p><p>file(GLOB_RECURSE SOURCES src/<em>.cpp include/</em>.h) 递归地查找 src 和 include 目录下所有以 .cpp 或 .h 结尾的文件，并将它们存储在 SOURCES 变量中。然后，add_executable 命令使用 SOURCES 变量中的文件来生成可执行文件</p><h3 id="引入第三方静态库" tabindex="-1"><a class="header-anchor" href="#引入第三方静态库"><span>引入第三方静态库</span></a></h3><p>以spdlog为例子 此类库基本为头文件库体积不打使用子模块构建</p><div class="language-powershell" data-ext="powershell" data-title="powershell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">git submodule add </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">path</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">仓库地址 注意仓库的分支默认是拉取默认分支</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">git submodule add </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">-</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">b </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">branch</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">repository</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">path</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  选择分支拉取</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">git submodule add git</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">github.com</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">:gabime</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">/</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">spdlog.git</span></span></code></pre></div><div class="language-cmake" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add_subdirectory</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(spdlog) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#添加子项目 相对当前cmakelist所在文件夹的相对路径</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">include_directories</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(spdlog/include/spdlog) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#包含头文件</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add_executable</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(hello main.cpp )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">target_link_libraries</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(hello spdlog) 链接库</span></span></code></pre></div><p>find_libary</p><p>应用于单纯的二进制包，没有配置文件，或者本地项目构建出的库.以下以本地构建的库为例</p><div class="vp-file-tree"><ul><li class="file-tree-item expanded"><!--[--><span class="tree-node folder"><!----><span class="name">helloproject</span></span><ul><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">build</span><span class="comment"><br> -...省略</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">src</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">demo1.cpp</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><span class="name">...</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">lib</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">mylib.dll(构建后生成)</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">mylib</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">build</span><span class="comment"> -...构建文件(省略)</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">mylib.h</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">mylib.cpp</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">CmakeLists.txt</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">CmakeLists.txt</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">CmakePresets.json</span></span><!--]--><!----></li><li class="file-tree-item"><!--[--><span class="tree-node file"><!----><span class="name">hello.cpp</span></span><!--]--><!----></li></ul><!--]--><!----></li></ul></div><p>在路径helloproject/lib/CmakeLists.txt 中</p><div class="language-cmake" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#设置库路径</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#指定库生成路径</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">CMAKE_ARCHIVE_OUTPUT_DIRECTORY</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ${PROJECT_SOURCE_DIR}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/lib)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">CMAKE_LIBRARY_OUTPUT_DIRECTORY</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ${PROJECT_SOURCE_DIR}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/lib)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(LIB_SRC </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${PROJECT}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">/lib/mylib.cpp)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#生成dll</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">add_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(testshared SHARED </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${LIB_SRC}</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#生成库的名字(也可以指定其他属性)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">set_target_properties</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(testshared PROPERTIES </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">OUTPUT_NAME</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;test&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span></code></pre></div><p>在路径helloproject/lib/build/中 执行命令构建目标库</p><div class="language-powershell" data-ext="powershell" data-title="powershell"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cmake .</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">G</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Ninja</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">  //</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">生成构建系统 最好指定使用toolchain.cmake配置指定编译器而不是让cmake寻找编译器可能会找到意料之外编译器或版本</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cmake </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">--</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">build </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">  //</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">单个库通常不需要指定目标</span></span></code></pre></div><p>在路径helloproject/CmakeLists.txt 中</p><div class="language-cmake line-numbers-mode" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">···</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#include_directories(${CMAKE_SOURCE_DIR}/mylib/) #指定头文件搜索路径</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">find_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(test_path </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NAMES</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> test</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> PATHS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./lib)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(STATUS </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;库全路径为 ${test_path}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">find_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          &lt;VAR&gt;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">          name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NAMES</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> name1 [name2 ...] [NAMES_PER_DIR]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [HINTS [</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">path</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | ENV var]...]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">PATHS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">path</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> | ENV var]...]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [REGISTRY_VIEW (64|32|64_32|32_64|HOST|</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">TARGET</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">|BOTH)]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [PATH_SUFFIXES suffix1 [suffix2 ...]]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [VALIDATOR function]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DOC</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;cache documentation string&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_CACHE]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [REQUIRED]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_DEFAULT_PATH]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_PACKAGE_ROOT_PATH]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_CMAKE_PATH]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_CMAKE_ENVIRONMENT_PATH]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_SYSTEM_ENVIRONMENT_PATH]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_CMAKE_SYSTEM_PATH]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [NO_CMAKE_INSTALL_PREFIX]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">          [CMAKE_FIND_ROOT_PATH_BOTH |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">           ONLY_CMAKE_FIND_ROOT_PATH |</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">           NO_CMAKE_FIND_ROOT_PATH]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">         )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>&lt;VAR&gt; :首个参数指定查找结果作为变量 (库的全路径包括后缀) 上述命令中为 test_path 当库未被找到，&lt;var&gt;中存放的值为<code>\&lt;var\&gt;-NOTFOUND</code>。 NO_CACHE 项 只要&lt;var&gt;中的值不是<code>\&lt;var\&gt;-NOTFOUND</code>(或有值)，那么即使多次调用find_library，&lt;var&gt;也不会再刷新(只要找到一个&lt;var&gt;，后续每次执行cmake命令得到的&lt;var&gt;都是首次找到的&lt;var&gt;值（除非清除CMakeCache.txt文件)。该选项将&lt;var&gt;变量当成一个普通变量而不是一个缓存条目，需要cmake 3.21及以上的版本支持(理解为全局变量，且会写入CMakeCache.txt文件，在不清除CMakeCache.txt文件的情况下，每次执行cmake都会先从CMakeCache.txt载入该变量的值)</p></div><div class="language-cmake line-numbers-mode" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">//例</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">make_minimum_required (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">VERSION</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 3.21)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">project</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (fl)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">find_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (libvar mymath </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">PATHS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./mylib NO_CACHE)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">find_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (libvar mymath </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">PATHS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./lib NO_CACHE) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 即使./lib中也存在mymath库，由于在上一步的./mylib中已经找到，因此本条命令不会执行查找</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${libvar}</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> STREQUAL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;libvar-NOTFOUND&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (FATAL_ERROR </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;required mymath library but not found!&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">else</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (STATUS </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;mymath library found in ${libvar}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endif</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">//例</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">make_minimum_required (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">VERSION</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 3.21)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">project</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (fl)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">find_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (libvar mymath </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">PATHS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./mylib) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># libvar是缓存条目，会存入`CMakeCache.txt`，后续即使把PATHS ./mylib改成PATHS ./mylib2（不存在库mymath），也不会保存，因为libvar变量已经从缓存中载入</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${libvar}</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> STREQUAL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;libvar-NOTFOUND&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (FATAL_ERROR </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;required mymath library but not found!&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">else</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (STATUS </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;mymath library found in ${libvar}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endif</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>NAMES或name: 指定一个或多个库的名字 上述命令中为 NAMES test</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>[PATHS [path | ENV var]...]或[HINTS [path | ENV var]...]: 可选项 指定搜索库的路径 上述命令中为 PATHS ./lib 同时可以指定环境变量 <code>find_library (libvar mymath PATHS ENV TESTPATH)</code> 指定环境变量TESTPATH 为查找路径 假设环境变量被设置为./lib</p></div><p>REQUIRED：指定该选项后，当找不到库，会输出一条错误信息并终止cmake处理过程；未指定REQUIRED选项，当find_library未找到库时，后续find_library有针对&lt;var&gt;的调用会继续查找。该选项需要cmake 3.18及以上的版本支持</p><p>PATH_SUFFIXES：为每个搜索目录添加变量PATH_SUFFIXES指定的后缀目录，假设当前搜索的目录为/A;/C/D，PATH_SUFFIXES指定的后缀目录为PS(当前可以指定多个，以分号分割开即可)，那么除了/A;/C/D之外，/A/PS;/C/D/PS也会被搜索</p><div class="language-cmake" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">find_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (libvar mymath </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">PATHS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./ PATH_SUFFIXES mylib) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 会从./以及./mylib中搜索指定的mymath库是否存在</span></span></code></pre></div><p>CMAKE_FIND_ROOT_PATH：指定搜索的根路径</p><p>CMAKE_SYSROOT：该选项的值会传递给编译器的--sysroot标记(--sysroot用于指定编译搜索库和头文件的根目的，例如编译器原本搜搜索/A/include和/A/lib，使用--sysroot=DIR后，编译器搜索的库和头文件目录变成/DIR/A/include和/DIR/A/lib) NO_DEFAULT_PATH:如果指定了，默认搜索路径不会生效 默认搜索路径:CMAKE_LIBRARY_ARCHITECTURE、CMAKE_PREFIX_PATH、CMAKE_LIBRARY_PATH、CMAKE_FRAMEWORK_PATH 指定的路径或 系统环境变量（例如系统环境变量LIB和PATH定义的路径）、系统的默认的库安装路径,例如/usr、/usr/lib等</p><div class="vp-steps"><p>1.先找包路径&lt;PackageName&gt;_ROOT(NO_PACKAGE_ROOT_PATH 或CMAKE_FIND_USE_PACKAGE_ROOT_PATH 为 FALSE则跳过) &lt;CurrentPackage&gt;_ROOT, ENV{&lt;CurrentPackage&gt;_ROOT}, &lt;ParentPackage&gt;_ROOT, ENV{&lt;ParentPackage&gt;_ROOT} 2.cmake缓存变量，即命令行中 -D &lt;VAR&gt;=value 设置的变量 例如<code>cmake . -DCMAKE_XXX_PATH=D:xxx\xxx</code> (NO_CMAKE_PATH 如果设置了此项或CMAKE_FIND_USE_CMAKE_PATH 为 FALSE 则跳过) other 3.cmake指定的环境变量 CMAKE_FIND_USE_CMAKE_ENVIRONMENT_PATH (设置此项为FALSE或NO_CMAKE_ENVIRONMENT_PATH 跳过此过程) other 4.HINT 指定的路径 HINT使用系统内计算的软路径，相对路径 ,PATH指定硬编码的路径 5.编译环境的系统环境变量(例如系统环境变量LIB和PATH定义的路径) (NO_SYSTEM_ENVIRONMENT_PATH或CMAKE_FIND_USE_SYSTEM_ENVIRONMENT_PATH 为FALSE 时跳过) 6.当前系统平台中相关的cmake变量(系统的默认的库安装路径) (CMAKE_INSTALL_PREFIX 和 CMAKE_STAGING_PREFIX) NO_CMAKE_SYSTEM_PATH或 CMAKE_FIND_USE_CMAKE_SYSTEM_PATH 为 FALSE 可以跳过所有这些路径搜索 other(关联路径替换为 CMAKE_SYSTEM_PREFIX_PATH 默认前缀 Windows下的/XXXX/Program Files，Linux下的/usr或/usr/local 查找时替换为/XXXX/Program Files/lib , /usr/local/lib进行搜索 CMAKE_SYSTEM_LIBRARY_PATH 默认是当前系统的标准目录</p><p>CMAKE_SYSTEM_FRAMEWORK_PATH 给macOS用，其框架路径 ) 通常是已安装的软件的位置，比如Linux下软件安装到/usr/local</p><p>7.PATHS指定路径 或 简短版本 find_library (&lt;VAR&gt; name1 [path1 path2 ...])中的的路径path1,path2...</p><p>指定如下这些变量也能忽略上述查找 CMAKE_IGNORE_PATH, CMAKE_IGNORE_PREFIX_PATH, CMAKE_SYSTEM_IGNORE_PATH and CMAKE_SYSTEM_IGNORE_PREFIX_PATH</p><p>other： &lt;prefix&gt;/lib/&lt;arch&gt; CMAKE_LIBRARY_ARCHITECTURE 如果该变量被设置，那么会搜索目录<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>C</mi><mi>M</mi><mi>A</mi><mi>K</mi><msub><mi>E</mi><mi>P</mi></msub><mi>R</mi><mi>E</mi><mi>F</mi><mi>I</mi><msub><mi>X</mi><mi>P</mi></msub><mi>A</mi><mi>T</mi><mi>H</mi></mrow><mi mathvariant="normal">/</mi><mi>l</mi><mi>i</mi><mi>b</mi><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">{CMAKE_PREFIX_PATH}/lib/</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">CM</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.13889em;">REF</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">ib</span><span class="mord">/</span></span></span></span>{CMAKE_LIBRARY_ARCHITECTURE} CMAKE_PREFIX_PATH 多个前缀以分号分隔 比如 CMAKE_PREFIX_PATH=A;B 那么会为${CMAKE_PREFIX_PATH}/lib 即 A/lib ,B/lib中查找库 CMAKE_LIBRARY_PATH 指定find_library的库查找目录，默认值为空，多个值时需要以分号分割列表指定</p><p>CMAKE_FRAMEWORK_PATH 给macOS 用的 &lt;prefix&gt;/lib/</p></div><p>默认搜索路径需要涵盖最常用和最不常用的情况，通常 使用NO前缀项忽略 find_library (&lt;VAR&gt; NAMES name PATHS paths... NO_DEFAULT_PATH) find_library (&lt;VAR&gt; NAMES name) NAMES 指定多个名字时，默认每个路径都搜索一遍该名字 (一个名字在多个文件夹搜索) NAMES_PER_DIR 选项 指定一次考虑一个文件夹(路径)每次搜索所有名字 (多个名字在一个文件夹检索) 查找库名字时先原样查找 给什么查什么 比如 <code>find_library (lib NAMES mylib PATHS &quot;D:\xxx\xxx&quot; NO_DEFAULT_PATH)</code> 那么先查找<code>mylib</code> 某些平台规定的前后缀(例如.lib或.so)由 CMAKE_FIND_LIBRARY_PREFIXES 和CMAKE_FIND_LIBRARY_SUFFIXES 变量指定 。当然也可以直接写明后缀。如mylib.a(unix) mylib.lib(win)</p><p>如果目标库是框架 &lt;VAR&gt;变量存储目标库的全路径 &lt;fullPath&gt;/A.framework,当框架被当作库使用时 使用-framework A, 和 -F&lt;fullPath&gt; 链接框架到目标</p><p>如果指定了自定义搜索路径前缀 CMAKE_FIND_LIBRARY_CUSTOM_LIB_SUFFIX 那么搜索时的 前缀路径lib/ 会替换为 ${CMAKE_FIND_LIBRARY_CUSTOM_LIB_SUFFIX}/(同样存lib32,libx32,lib64 版本) project()命令启动时如果设置了至少一种语言 那么会自动设置此类变量</p><p>FIND_LIBRARY_USE_LIB32_PATHS(同样存lib32,libx32,lib64 版本) 在搜索路径中匹配到lib/后，会为这个目录添加一个后缀，然后在添加后缀后的目录中搜索库</p><div class="language-cmake line-numbers-mode" data-ext="cmake" data-title="cmake"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">cmake_minimum_required</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">VERSION</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 3.21)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">project</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (fl)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">find_library</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (libvar mymath </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">PATHS</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ./lib) </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 假设lib目录不存在但是lib64目录存在</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">${libvar}</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> STREQUAL</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &quot;libvar-NOTFOUND&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (FATAL_ERROR </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;required mymath library but not found!&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">else</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    message</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (STATUS </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;mymath library found in ${libvar}&quot;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">endif</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">// 命令行中执行</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cmake .</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">// 执行结果</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-- mymath library found in /XXX/lib64/libmymath.a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></main><footer class="vp-doc-footer" data-v-dbb2a29f data-v-49e68d78><!--[--><!--]--><!----><div class="contributors" data-v-49e68d78><span class="contributors-label" data-v-49e68d78>贡献者: </span><span class="contributors-info" data-v-49e68d78><!--[--><!--[--><span class="contributor" data-v-49e68d78>ImoutoCon1999</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" data-v-49e68d78>Yuzhiy05</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-49e68d78><div class="pager" data-v-49e68d78><a class="vp-link no-icon link pager-link prev" href="/article/tlw73yi4/" data-v-49e68d78 data-v-5fc5bb72><!--[--><span class="desc" data-v-49e68d78>上一页</span><span class="title" data-v-49e68d78>c#数据类型</span><!--]--><!----></a></div><div class="pager" data-v-49e68d78><a class="vp-link no-icon link pager-link next" href="/article/i26uhz4h/" data-v-49e68d78 data-v-5fc5bb72><!--[--><span class="desc" data-v-49e68d78>下一页</span><span class="title" data-v-49e68d78>winFrom控件</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-8e3384c8 data-v-c9a60557><span class="percent" data-allow-mismatch data-v-c9a60557>0%</span><span class="show icon vpi-back-to-top" data-v-c9a60557></span><svg aria-hidden="true" data-v-c9a60557><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-c9a60557></circle></svg></button><footer class="vp-footer" vp-footer data-v-8e3384c8 data-v-cedb4a50><!--[--><div class="container" data-v-cedb4a50><p class="message" data-v-cedb4a50>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-BKu1TSIW.js" defer></script></body></html>